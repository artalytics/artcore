% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cdn-asset-url.R
\name{cdn_asset_url}
\alias{cdn_asset_url}
\title{Construct or Presign a DigitalOcean Spaces Asset URL}
\usage{
cdn_asset_url(
  bucket = c("art-public", "art-coa", "art-data", "art-vault"),
  key = "",
  signed = TRUE,
  check = FALSE
)
}
\arguments{
\item{bucket}{Character(1). One of your Spaces buckets:
`"art-public"`, `"art-coa"`, `"art-data"`, `"art-vault"`.}

\item{key}{Character(1). The object key/path inside the bucket,
e.g. `"thumbnails/.../img.png"`.  May be `""` to hit the
bucket root.}

\item{signed}{Logical(1).  `TRUE` to generate a presigned URL (needs
valid `ART_BUCKETS_KEY_ID`/`_KEY_SECRET`), or `FALSE`
to build a plain URL.  Defaults to `TRUE`.}

\item{check}{Logical(1).  If `TRUE`, performs an HTTP HEAD on the
resulting URL and errors if the status is >= 400.
Defaults to `FALSE`.}
}
\value{
Character(1). A valid HTTPS URL.  If `check = TRUE` this will
        have been HEAD-verified to return HTTP 200.
}
\description{
Builds a public HTTPS URL for any object in your Spaces buckets,
optionally presigning it (for private buckets) or checking that it exists.
}
\details{
- Buckets `"art-public"` and `"art-coa"` are public-read, so any URL
  (signed or not) is returned unsigned.
- Buckets `"art-data"` and `"art-vault"` require a valid
  `ART_BUCKETS_KEY_ID` + `ART_BUCKETS_KEY_SECRET` to presign.
}
\examples{
\dontrun{
# public asset (no creds needed)
url1 <- cdn_asset_url("art-public", "thumbnails/foo.png",
  signed = FALSE, check = TRUE
)

# private asset (presigned, 1 h expiry)
url2 <- cdn_asset_url("art-data",
  "processed/artist/artwork/img.png",
  signed = TRUE, check = TRUE
)
browseURL(url2)
}

}
