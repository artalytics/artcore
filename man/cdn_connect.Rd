% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cdn-connect.R
\name{cdn_connect}
\alias{cdn_connect}
\title{Connect to DigitalOcean Spaces / CDN}
\usage{
cdn_connect(
  bucket = c("public.artalytics", "private.artalytics", "certificates.art",
    "vault.artalytics"),
  scope = c("read", "write"),
  endpoint = c("subdomain", "cdn", "origin"),
  client = FALSE
)
}
\arguments{
\item{bucket}{Character. One of the bucket names defined in
`inst/config/do-spaces.yaml`:
`"public.artalytics"`, `"private.artalytics"`,
`"certificates.art"`, or `"vault.artalytics"`.}

\item{scope}{Character. Access scope to retrieve; must match one of the
lowercase scopes in your YAML (`"read"` or `"write"`).
Defaults to `"read"`.}

\item{endpoint}{Character. Which endpoint URL to return. One of
`"subdomain"`, `"cdn"`, or `"origin"`.
Defaults to `"subdomain"`.}

\item{client}{Logical. If `TRUE`, returns a configured
`paws.storage::s3()` client object instead of a list.
Defaults to `FALSE`.}
}
\value{
If `client = FALSE`, a named list with components:
* `bucket`     — the bucket name (character)
* `key_id`     — the Spaces access key ID (character)
* `secret_key` — the Spaces secret access key (character)
* `endpoint`   — the selected endpoint URL (character)

If `client = TRUE`, returns an S3 client object (list) with methods
such as `$list_buckets()`, `$get_object()`, and `$put_object()`.
}
\description{
Retrieve bucket credentials and endpoint URLs for your configured DigitalOcean
Spaces buckets (via CDN subdomains, direct CDN endpoints, or origin URLs).
Optionally, return a ready-to-use S3 client for programmatic access.
}
\examples{
\dontrun{
# 1. Get the public subdomain URL + credentials
cfg <- cdn_connect("public.artalytics", scope = "read")
print(cfg$endpoint)

# 2. Get the private CDN endpoint
cdn_cfg <- cdn_connect("private.artalytics", scope = "read", endpoint = "cdn")

# 3. Spin up an S3 client for writing
s3 <- cdn_connect("private.artalytics", scope = "write", client = TRUE)
s3$list_buckets()
}

}
